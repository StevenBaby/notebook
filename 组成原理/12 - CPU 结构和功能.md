# 12 - CPU 结构和功能

处理器包括用户可见的寄存器和控制/状态寄存器，用户可见寄存器是指，用户使用机器指令显示或隐式可访问的寄存器。他们可以是通用寄存器，也可以是用与定点或浮点数、地址、变址和段指针这样的专用寄存器。控制和状态寄存器用于控制CPU的操作。一个明显的例子是程序计数器。另一个重要的例子是程序状态字(PSW)，它包含各种状态和条件位，例如反映最近一次算术运算结果的标志位、终端允许位和指示CPU当前运行于特权模式下还是用户模式下的状态位。

处理器采用指令流水方式来加速指令的执行。从本质上讲，流水是指将指令周期分解成几个连续出现的阶段，如读指令、译码指令、确定操作数地址、取操作数、执行指令和写结果操作数。指令向前移动通过这些段，就像车间的一条装配线一样；于是不同的指令能同时在各个段上工作，不过转移和指令间相关性的出现，使流水线的设计和使用变得复杂了。

## CPU 组成

CPU 必须完成一下任务：

- 取指令
- 解释指令
- 取数据
- 处理数据
- 写数据

CPU 的主要部件是一个算术逻辑单元(ALU)和一个控制器(CU)，若干寄存器。ALU完成数据的实际计算或处理。控制器控制数据和指令的移入移出CPU，并控制ALU操作。

## 寄存器组成

## 指令周期

指令周期包括以下子周期：

- 取指
- 执行
- 中断

## 指令流水线技术


## 参考资料

- [1] 计算机组成与体系结构 [美] William Stallings 著
